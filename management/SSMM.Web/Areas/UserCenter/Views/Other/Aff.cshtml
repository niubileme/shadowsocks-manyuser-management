@using SSMM.Model
@{
    ViewBag.Title = "推广计划";
    Layout = "~/Areas/UserCenter/Views/Shared/_UserCenterLayout.cshtml";
    var Url = ViewData["Url"];
    var RebateNum = ViewData["RebateNum"];
    var Customers = ViewData["Customers"] as List<UserDto>;
}
<div class="row">
    <div class="col-lg-12">
        <div class="ibox">
            <div class="ibox-content">
                <h3 class="text-navy">您的唯一邀请链接 : &nbsp;&nbsp;<code>@Url</code> </h3>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-lg-12">
        <div class="ibox float-e-margins">
            <div class="ibox-title">
                <h5>推广计划</h5>
            </div>
            <div class="ibox-content ">
                邀请信息使用Cookie保存，有效时间为7天。<br /><br />
                在有效时间内，用户通过您的邀请链接进行注册，将会成为您的客户。<br /><br />
                客户在进行充值、购买服务时，您将得到@(RebateNum)%的佣金。<br /><hr />
                <span class="text-warning">您可以通过不断的推广您的邀请链接，来刷新延长有效时间。</span>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-lg-12">
        <div class="ibox float-e-margins">
            <div class="ibox-title">
                <h5>您邀请的客户</h5>
                <div class="ibox-tools">
                    <a class="collapse-link">
                        <i class="fa fa-chevron-up"></i>
                    </a>
                </div>
            </div>
            <div class="ibox-content">

                <table class="table">
                    <thead>
                        <tr>
                            <th>#</th>
                            <th>用户昵称</th>
                            <th>用户邮件</th>
                            <th>注册时间</th>
                            <th>账号状态</th>
                        </tr>
                    </thead>
                    <tbody>
                        @{
                            if (Customers != null && Customers.Count > 0)
                            {
                                for (int i = 0; i < Customers.Count; i++)
                                {
                                    <tr>
                                        <td>@(i + 1)</td>
                                        <td>@Customers[i].UserName</td>
                                        <td>@Customers[i].Email</td>
                                        <td>@Customers[i].CreateTime.ToString("yyyy-MM-dd HH:mm:ss")</td>
                                        <td><span class="label label-primary">正常</span></td>
                                    </tr>
                                }
                            }
                        }
                    </tbody>
                </table>

            </div>
        </div>
    </div>
</div>
